<div class="container">
  <h1 class="titulo">âš™ï¸ ConfiguraÃ§Ãµes</h1>

  @if (loading()) {
    <div class="loading-container">
      <div class="loader"></div>
    </div>
  }

  @else if (configuracao()) {
    <div class="secao">

      <!-- AparÃªncia -->
      <section class="card">
        <h2 class="card-title">ğŸ¨ AparÃªncia</h2>

        <div class="campo">
          <label>Tamanho dos Pictogramas</label>
          <select [(ngModel)]="configuracao()!.tamanhoPictograma" (change)="salvar()">
            <option value="PEQUENO">Pequeno</option>
            <option value="MEDIO">MÃ©dio</option>
            <option value="GRANDE">Grande</option>
          </select>
        </div>

        <div class="campo-inline">
          <label>Modo Escuro</label>
          <input type="checkbox" [(ngModel)]="configuracao()!.modoEscuro" (change)="salvar()">
        </div>

        <div class="campo-inline">
          <label>Alto Contraste</label>
          <input type="checkbox" [(ngModel)]="configuracao()!.modoAltoContraste" (change)="salvar()">
        </div>
      </section>

      <!-- Ãudio e Voz -->
      <section class="card">
        <h2 class="card-title">ğŸ”Š Ãudio e Voz</h2>

        <div class="campo-inline">
          <label>Habilitar Som</label>
          <input type="checkbox" [(ngModel)]="configuracao()!.habilitarSom" (change)="salvar()">
        </div>

        @if (configuracao()!.habilitarSom) {
          <div class="campo">
            <label>Velocidade da Voz: {{ configuracao()!.velocidadeVoz }}%</label>
            <input
              type="range"
              min="50"
              max="200"
              step="10"
              [(ngModel)]="configuracao()!.velocidadeVoz"
              (change)="salvar()"
            />
          </div>

          <div class="campo">
            <label>Idioma da Voz</label>
            <select [(ngModel)]="configuracao()!.idiomaVoz" (change)="salvar()">
              <option value="pt-BR">PortuguÃªs (Brasil)</option>
              <option value="en-US">InglÃªs (EUA)</option>
              <option value="es-ES">Espanhol</option>
            </select>
          </div>
        }
      </section>

      <!-- Acessibilidade -->
      <section class="card">
        <h2 class="card-title">â™¿ Acessibilidade</h2>

        <div class="campo-inline">
          <label>Modo Varredura</label>
          <input type="checkbox" [(ngModel)]="configuracao()!.modoVarredura" (change)="salvar()">
        </div>

        @if (configuracao()!.modoVarredura) {
          <div class="campo">
            <label>Tempo de Varredura: {{ configuracao()!.tempoVarredura }} ms</label>
            <input
              type="range"
              min="500"
              max="5000"
              step="100"
              [(ngModel)]="configuracao()!.tempoVarredura"
              (change)="salvar()"
            />
          </div>
        }

        <div class="campo-inline">
          <label>Confirmar SeleÃ§Ã£o com Som</label>
          <input type="checkbox" [(ngModel)]="configuracao()!.confirmarSelecao" (change)="salvar()">
        </div>
      </section>

      <!-- Privacidade -->
      <section class="card">
        <h2 class="card-title">ğŸ”’ Privacidade</h2>

        <div class="campo-inline">
          <label>Salvar HistÃ³rico</label>
          <input type="checkbox" [(ngModel)]="configuracao()!.salvarHistorico" (change)="salvar()">
        </div>

        <div class="campo-inline">
          <label>Permitir RelatÃ³rios</label>
          <input type="checkbox" [(ngModel)]="configuracao()!.permitirRelatorios" (change)="salvar()">
        </div>
      </section>

      <!-- Reset -->
      <div class="acoes">
        <button class="btn-reset" (click)="resetar()">ğŸ”„ Restaurar PadrÃµes</button>
      </div>

      @if (mensagemSucesso()) {
        <div class="sucesso">{{ mensagemSucesso() }}</div>
      }
    </div>
  }
</div>
